# üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä: C + FastAPI + PySide6 + SQLite + WebSocket

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω—É—é —Å–∏—Å—Ç–µ–º—É:

- **C-–ø—Ä–æ–≥—Ä–∞–º–º–∞** ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (–∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è)
- **FastAPI-—Å–µ—Ä–≤–µ—Ä** ‚Äî REST API + WebSocket + –∏—Å—Ç–æ—Ä–∏—è –≤ SQLite
- **GUI-–∫–ª–∏–µ–Ω—Ç –Ω–∞ PySide6** ‚Äî –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏–π –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π (`2 + 3 * (7 - 1)`)  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –∏ —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (`--float`)  
‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ SQLite  
‚úÖ –†–∞—Å—Å—ã–ª–∫–∞ –Ω–æ–≤—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º –ø–æ WebSocket  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ  
‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —É –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
calculator-geshko-av/
‚îú‚îÄ‚îÄ build/                 # –°–±–æ—Ä–æ—á–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: –±–∏–Ω–∞—Ä–Ω–∏–∫ C, –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ gui/                   # GUI-–∫–ª–∏–µ–Ω—Ç –Ω–∞ PySide6
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ server/                # –°–µ—Ä–≤–µ—Ä –Ω–∞ FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ server.py
‚îÇ   ‚îú‚îÄ‚îÄ database.py
‚îÇ   ‚îú‚îÄ‚îÄ logging_conf.py
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ src/                   # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ C
‚îú‚îÄ‚îÄ tests/                 # –Æ–Ω–∏—Ç –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ Makefile               # –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–±–æ—Ä–∫–∏/–∑–∞–ø—É—Å–∫–∞
‚îî‚îÄ‚îÄ README.md
```

---

## üß∞ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo-url>
cd calculator-geshko-av

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º C, —Å–æ–∑–¥–∞—ë–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
make venv
make all
```

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞                             | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
|------------------------------------|----------------------------------------------------|
| `make all`                         | –°–±–æ—Ä–∫–∞ C-–ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ —Ç–µ—Å—Ç–æ–≤                        |
| `make run-server`                  | –ó–∞–ø—É—Å–∫ FastAPI-—Å–µ—Ä–≤–µ—Ä–∞ —Å WebSocket                 |
| `make run-gui`                     | –ó–∞–ø—É—Å–∫ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (PySide6)              |
| `make run-unit-test`               | –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã C-–∫–æ–¥–∞ (GoogleTest)                     |
| `make run-integration-tests`       | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ –∏ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞           |
| `make run-integration-tests-server`| –¢–µ—Å—Ç—ã REST API —Å–µ—Ä–≤–µ—Ä–∞                             |
| `make clean`                       | –û—á–∏—Å—Ç–∫–∞ —Å–±–æ—Ä–∫–∏ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤                  |

---

## üåê –°–µ—Ä–≤–µ—Ä

- **–ê–¥—Ä–µ—Å**: `http://localhost:8000`
- **REST**: `POST /calc` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- **WebSocket**: `ws://localhost:8000/ws` ‚Äî —Ä–∞—Å—Å—ã–ª–∞–µ—Ç –Ω–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º –∏ –æ—Ç–¥–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

### –ü—Ä–∏–º–µ—Ä POST-–∑–∞–ø—Ä–æ—Å–∞:
```http
POST /calc?float=true
Content-Type: application/json

"3 + 5 / 2"
```

---

## üñ•Ô∏è GUI (PySide6)

–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π:

```bash
make run-gui
```

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- –í–≤–æ–¥ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
- –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ (int / float)
- –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ WebSocket
- –û–±—â–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ

---

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite)

- **–§–∞–π–ª**: `history.db`
- **–¢–∞–±–ª–∏—Ü–∞**: `history`
- –°–æ–¥–µ—Ä–∂–∏—Ç:
  - `expression` ‚Äî —Å—Ç—Ä–æ–∫–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
  - `result` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
  - `float_mode` ‚Äî —Ä–µ–∂–∏–º (`True/False`)
  - `timestamp` ‚Äî –≤—Ä–µ–º—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

---

## üîÅ –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä **–Ω–µ –∑–∞–ø—É—â–µ–Ω**, GUI –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞—Ç—å—Å—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã.
- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–ø–∞–ª –∏ –±—ã–ª –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω ‚Äî WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `10 / 0`) –∫–ª–∏–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∑–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã (GoogleTest)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ `pytest`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö REST/WS —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: `make run-integration-tests`
